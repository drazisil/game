{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","GameObject","[object Object]","data","x","y","isHidden","width","height","this","hidden","Missile","source","game","containerId","gameObjects","enemies","gameConfig","movementUnit","enemyMissileInterval","shipMissileInterval","missileLength","defaultShipLocation","defaultSpaceLocation","gameState","spaceLocation","missiles","frameRequest","isRunning","enemyMissileTimer","shipMissileTimer","keys","complete","ship","map","enemy","document","getElementById","style","visibility","console","error","window","requestAnimationFrame","run","space","areEnemiesLoaded","resetSizes","loaded","missileX","missileY","push","filter","missile","removeMissile","ctx","canvas","moveMissileUp","moveMissileDown","strokeStyle","beginPath","moveTo","lineTo","lineWidth","stroke","e","code","preventDefault","ArrowRight","moveRight","ArrowLeft","moveLeft","ArrowUp","moveUp","ArrowDown","moveDown","Space","addMissile","Escape","resetGame","Enter","NumpadEnter","isGameLoaded","clearRect","drawImage","number","first","second","isBetween","checkHitEnemy","checkHitShip","length","updateDebug","handleKeys","drawSpace","drawShip","drawEnemy","forEach","moveMissile","checkHit","drawMissile","addEventListener","keysPressed","keysReleased","images","enemy1","body","createElement","setAttribute","appendChild","getContext","onload","init"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","class GameObject {\n  constructor(name, data, x, y, isHidden, width, height) {\n    this.name = name;\n    this.data = data;\n    this.x = x;\n    this.y = y;\n    this.hidden = isHidden;\n    this.width = width;\n    this.height = height;\n  }\n}\n\nclass Missile {\n  constructor(x, y, height, source) {\n    this.x = x;\n    this.y = y;\n    this.height = height;\n    this.source = source;\n  }\n}\n\nclass Game {\n  constructor() {\n    this.containerId = \"game\";\n\n    this.gameObjects = {\n      enemies: []\n    };\n    this.gameConfig = {\n      movementUnit: 5,\n      width: 800,\n      height: 600,\n      enemyMissileInterval: 120,\n      shipMissileInterval: 20,\n      missileLength: 20,\n      defaultShipLocation: { x: 100, y: 400 },\n      defaultSpaceLocation: { x: -1000, y: -1000 }\n    };\n    this.gameState = {\n      spaceLocation: { x: -500, y: -500 },\n      missiles: [], // All missiles in game\n      frameRequest: 0,\n      isRunning: false,\n      enemyMissileTimer: 60,\n      shipMissileTimer: 60,\n      keys: [] // Keys they are currently pressed\n    };\n  }\n\n  areEnemiesLoaded() {\n    return this.gameObjects.enemies[0].data.complete;\n  }\n\n  resetGame() {\n    const { enemies, ship } = this.gameObjects;\n    ship.x = this.gameConfig.defaultShipLocation.x;\n    ship.y = this.gameConfig.defaultShipLocation.y;\n\n    this.gameState.spaceLocation.x = this.gameConfig.defaultSpaceLocation.x;\n    this.gameState.spaceLocation.y = this.gameConfig.defaultSpaceLocation.y;\n    enemies.map(enemy => {\n      enemy.hidden = false;\n    });\n    document.getElementById(\"winScreen\").style.visibility = \"hidden\";\n    this.gameState.missiles = [];\n    ship.hidden = false;\n    document.getElementById(\"loseScreen\").style.visibility = \"hidden\";\n    document.getElementById(\"newGameScreen\").style.visibility = \"visible\";\n  }\n\n  resetSizes() {\n    const { ship, enemies } = this.gameObjects;\n\n    if (ship.width === 0) {\n      ship.width = ship.data.width / 2;\n    }\n    if (ship.height === 0) {\n      ship.height = ship.data.height / 2;\n    }\n\n    if (enemies[0].width === 0) {\n      enemies[0].width = enemies[0].data.width / 4;\n    }\n    if (enemies[0].height === 0) {\n      enemies[0].height = enemies[0].data.height / 4;\n    }\n  }\n\n  isGameLoaded() {\n    if (this.gameObjects === {}) {\n      console.error(\"Empty gameObject in gameLoop\");\n      this.gameState.frameRequest = window.requestAnimationFrame(run);\n      return false;\n    }\n    if (\n      this.gameObjects.space.complete &&\n      this.gameObjects.ship.data.complete &&\n      this.areEnemiesLoaded()\n    ) {\n      this.resetSizes();\n      document.getElementById(\"loadingScreen\").style.visibility = \"hidden\";\n      this.gameState.loaded = true;\n      // this.gameState.isRunning = true\n      return true;\n    }\n    return false;\n  }\n\n  addMissile(missileX, missileY, source) {\n    const { shipMissileTimer, missiles, isRunning } = this.gameState;\n    if (!isRunning) {\n      return;\n    }\n    if (source === \"ship\" && this.gameState.shipMissileTimer >= 0) {\n      return;\n    }\n    if (source === \"enemy\" && this.gameState.enemyMissileTimer >= 0) {\n      return;\n    }\n    this.gameState.missiles.push(\n      new Missile(missileX, missileY, this.gameConfig.missileLength, source)\n    );\n    this.gameState.shipMissileTimer = this.gameConfig.shipMissileInterval;\n    this.gameState.enemyMissileTimer = this.gameConfig.enemyMissileInterval;\n  }\n\n  removeMissile(missileY) {\n    this.gameState.missiles = this.gameState.missiles.filter(\n      missile => missile.y !== missileY\n    );\n  }\n\n  moveMissileUp(missile) {\n    if (missile.y <= 0) {\n      this.removeMissile(missile.y);\n    }\n    missile.y -= 5;\n  }\n\n  moveMissileDown(missile) {\n    if (missile.y >= this.gameState.ctx.canvas.height) {\n      this.removeMissile(missile.y);\n    }\n    missile.y += 5;\n  }\n\n  moveMissile(missile) {\n    if (missile.source === \"ship\") {\n      this.moveMissileUp(missile);\n    }\n    if (missile.source === \"enemy\") {\n      this.moveMissileDown(missile);\n    }\n  }\n\n  // [{ x: number, y: number }]\n\n  drawMissile(missile) {\n    const { ctx } = this.gameState;\n    if (missile.source === \"ship\") {\n      ctx.strokeStyle = \"red\";\n    }\n    if (missile.source === \"enemy\") {\n      ctx.strokeStyle = \"blue\";\n    }\n\n    ctx.beginPath();\n    ctx.moveTo(missile.x, missile.y); // Move the pen to (30, 50)\n    ctx.lineTo(missile.x, missile.y - missile.height); // Draw a line to (150, 100)\n    ctx.lineWidth = 2;\n    ctx.stroke();\n  }\n\n  moveUp() {\n    if (\n      this.gameObjects.ship.y - this.gameConfig.movementUnit <\n      this.gameState.ctx.canvas.height - this.gameState.ctx.canvas.height / 2\n    ) {\n      return;\n    }\n    this.gameObjects.ship.y =\n      this.gameObjects.ship.y - this.gameConfig.movementUnit;\n    this.gameState.spaceLocation.y =\n      this.gameState.spaceLocation.y - this.gameConfig.movementUnit / 2;\n  }\n\n  moveDown() {\n    if (\n      this.gameObjects.ship.y +\n        this.gameObjects.ship.height +\n        this.gameConfig.movementUnit >\n      this.gameState.ctx.canvas.height\n    ) {\n      return;\n    }\n    this.gameObjects.ship.y =\n      this.gameObjects.ship.y + this.gameConfig.movementUnit;\n    this.gameState.spaceLocation.y =\n      this.gameState.spaceLocation.y + this.gameConfig.movementUnit / 2;\n  }\n\n  moveLeft() {\n    if (this.gameObjects.ship.x - this.gameConfig.movementUnit < 0) {\n      return;\n    }\n    this.gameObjects.ship.x =\n      this.gameObjects.ship.x - this.gameConfig.movementUnit;\n    this.gameState.spaceLocation.x =\n      this.gameState.spaceLocation.x - this.gameConfig.movementUnit / 2;\n  }\n\n  moveRight() {\n    if (\n      this.gameObjects.ship.x +\n        this.gameObjects.ship.width +\n        this.gameConfig.movementUnit >\n      this.gameState.ctx.canvas.width\n    ) {\n      return;\n    }\n    this.gameObjects.ship.x =\n      this.gameObjects.ship.x + this.gameConfig.movementUnit;\n    this.gameState.spaceLocation.x =\n      this.gameState.spaceLocation.x + this.gameConfig.movementUnit / 2;\n  }\n\n  keysPressed(e) {\n    switch (e.code) {\n      case \"ArrowUp\":\n      case \"ArrowDown\":\n      case \"ArrowLeft\":\n      case \"ArrowRight\":\n      case \"Space\":\n      case \"Escape\":\n      case \"Enter\":\n        e.preventDefault();\n        break;\n    }\n    this.gameState.keys[e.code] = true;\n  }\n\n  keysReleased(e) {\n    this.gameState.keys[e.code] = false;\n  }\n\n  handleKeys() {\n    const { ship } = this.gameObjects;\n    const { keys, isRunning } = this.gameState;\n\n    if (keys.ArrowRight) {\n      if (!isRunning) {\n        return;\n      }\n      this.moveRight();\n    }\n    if (keys.ArrowLeft) {\n      if (!isRunning) {\n        return;\n      }\n      this.moveLeft();\n    }\n    if (keys.ArrowUp) {\n      if (!isRunning) {\n        return;\n      }\n      this.moveUp();\n    }\n    if (keys.ArrowDown) {\n      if (!isRunning) {\n        return;\n      }\n      this.moveDown();\n    }\n\n    if (keys.Space) {\n      if (!isRunning) {\n        return;\n      }\n      this.addMissile(ship.x + ship.width / 2, ship.y, \"ship\");\n    }\n\n    if (keys.Escape) {\n      keys.Escape = false;\n      this.resetGame();\n    }\n\n    if (keys.Enter || keys.NumpadEnter) {\n      keys.Enter = false;\n      keys.NumpadEnter = false;\n      if (this.isGameLoaded()) {\n        document.getElementById(\"newGameScreen\").style.visibility = \"hidden\";\n        this.gameState.isRunning = true;\n      }\n    }\n  }\n\n  drawSpace() {\n    const { ctx } = this.gameState;\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    ctx.drawImage(\n      this.gameObjects.space,\n      this.gameState.spaceLocation.x,\n      this.gameState.spaceLocation.y,\n      this.gameObjects.space.width / 2,\n      this.gameObjects.space.height / 2\n    );\n  }\n\n  drawEnemy(enemy) {\n    if (enemy.hidden) {\n      return;\n    }\n    const { ctx } = this.gameState;\n    ctx.drawImage(enemy.data, enemy.x, enemy.y, enemy.width, enemy.height);\n  }\n\n  drawShip() {\n    const { ctx } = this.gameState;\n    const { ship } = this.gameObjects;\n    ctx.drawImage(ship.data, ship.x, ship.y, ship.width, ship.height);\n  }\n\n  isBetween(number, first, second) {\n    return number >= first && number <= second;\n  }\n\n  checkHitEnemy(enemy, missile) {\n    if (\n      missile.y - missile.height <= enemy.y &&\n      this.isBetween(missile.x, enemy.x, enemy.x + enemy.width)\n    ) {\n      enemy.hidden = true;\n    }\n  }\n\n  checkHitShip(missile) {\n    const { ship } = this.gameObjects;\n    if (\n      missile.y - missile.height >= ship.y &&\n      this.isBetween(missile.x, ship.x, ship.x + ship.width)\n    ) {\n      ship.hidden = true;\n    }\n  }\n\n  checkHit() {\n    const { ship, enemies } = this.gameObjects;\n    enemies.map(enemy => {\n      this.gameState.missiles.map(missile => {\n        if (missile.source === \"ship\") {\n          this.checkHitEnemy(enemy, missile);\n        }\n        if (missile.source === \"enemy\") {\n          this.checkHitShip(missile);\n        }\n      });\n    });\n\n    const remainingEnemies = enemies.filter(enemy => !enemy.hidden);\n\n    if (remainingEnemies.length === 0) {\n      this.gameState.isRunning = false;\n      document.getElementById(\"winScreen\").style.visibility = \"visible\";\n    }\n\n    if (ship.hidden === true) {\n      this.gameState.isRunning = false;\n      document.getElementById(\"loseScreen\").style.visibility = \"visible\";\n    }\n  }\n\n  updateDebug() {\n    document.getElementById(\n      \"debugMovementUnit\"\n    ).value = this.gameConfig.movementUnit;\n  }\n\n  run() {\n    if (!this.isGameLoaded()) {\n      this.gameState.frameRequest = window.requestAnimationFrame(\n        this.run.bind(this)\n      );\n      return;\n    }\n\n    this.updateDebug();\n\n    this.handleKeys();\n    this.drawSpace();\n    this.drawShip();\n    this.drawEnemy(this.gameObjects.enemies[0]);\n\n    // Add enemy missiles\n    if (this.gameState.isRunning) {\n      this.gameObjects.enemies.forEach(enemy => {\n        this.addMissile(\n          enemy.x + enemy.width / 2,\n          enemy.y + enemy.height + this.gameConfig.missileLength,\n          \"enemy\"\n        );\n      });\n    }\n\n    this.gameState.missiles.forEach(missile => {\n      this.moveMissile(missile);\n    });\n\n    this.checkHit();\n\n    this.gameState.missiles.forEach(missile => {\n      this.drawMissile(missile);\n    });\n    this.gameState.enemyMissileTimer--;\n    this.gameState.shipMissileTimer--;\n    this.gameState.frameRequest = window.requestAnimationFrame(\n      this.run.bind(this)\n    );\n  }\n\n  init() {\n    const game = this;\n    window.addEventListener(\"keydown\", this.keysPressed.bind(this), false);\n    window.addEventListener(\"keyup\", this.keysReleased.bind(this), false);\n\n    const ship = document.images[0];\n    const space = document.images[2];\n    const enemy1 = document.images[3];\n\n    const body = document.getElementById(this.containerId);\n    const canvas = document.createElement(\"canvas\");\n    canvas.setAttribute(\"id\", \"gameCanvas\");\n    canvas.setAttribute(\"width\", 800);\n    canvas.setAttribute(\"height\", 600);\n    body.appendChild(canvas);\n\n    this.gameState.ctx = canvas.getContext(\"2d\");\n\n    game.gameObjects.ship = new GameObject(\n      \"ship\",\n      ship,\n      game.gameConfig.defaultShipLocation.x,\n      game.gameConfig.defaultShipLocation.y,\n      \"false\",\n      ship.width / 2,\n      ship.height / 2\n    );\n\n    game.gameObjects.enemies.push(\n      new GameObject(\n        \"enemy1\",\n        enemy1,\n        100,\n        50,\n        false,\n        enemy1.width / 4,\n        enemy1.height / 4\n      )\n    );\n\n    this.gameObjects.space = space;\n\n    this.gameState.frameRequest = window.requestAnimationFrame(\n      game.run.bind(this)\n    );\n  }\n}\n\nconst game = new Game();\n\nwindow.onload = game.init();\n"],"sourceRoot":""}