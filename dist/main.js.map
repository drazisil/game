{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js","webpack:///./src/app.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Game","game","window","onload","init","GameObject","[object Object]","data","x","y","isHidden","width","height","this","hidden","Missile","source","containerId","gameObjects","enemies","gameConfig","movementUnit","enemyMissileInterval","shipMissileInterval","missileLength","defaultShipLocation","defaultSpaceLocation","gameState","spaceLocation","missiles","frameRequest","isRunning","enemyMissileTimer","shipMissileTimer","keys","complete","ship","map","enemy","document","getElementById","style","visibility","console","error","requestAnimationFrame","run","space","areEnemiesLoaded","resetSizes","loaded","missileX","missileY","push","filter","missile","removeMissile","moveMissileUp","moveMissileDown","ctx","strokeStyle","beginPath","moveTo","lineTo","lineWidth","stroke","e","code","preventDefault","ArrowRight","moveRight","ArrowLeft","moveLeft","ArrowUp","moveUp","ArrowDown","moveDown","Space","addMissile","Escape","resetGame","Enter","NumpadEnter","isGameLoaded","clearRect","drawImage","number","first","second","isBetween","checkHitEnemy","checkHitShip","length","updateDebug","handleKeys","drawSpace","drawShip","drawEnemy","forEach","moveMissile","checkHit","drawMissile","addEventListener","keysPressed","keysReleased","images","enemy1","body","canvas","createElement","setAttribute","appendChild","getContext"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const { Game } = require(\"./app.js\");\n\nconst game = new Game();\n\nwindow.onload = game.init();\n","class GameObject {\n  constructor(name, data, x, y, isHidden, width, height) {\n    this.name = name;\n    this.data = data;\n    this.x = x;\n    this.y = y;\n    this.hidden = isHidden;\n    this.width = width;\n    this.height = height;\n  }\n}\n\nclass Missile {\n  constructor(x, y, height, source) {\n    this.x = x;\n    this.y = y;\n    this.height = height;\n    this.source = source;\n  }\n}\n\nclass Game {\n  constructor() {\n    this.containerId = \"game\";\n\n    this.gameObjects = {\n      enemies: []\n    };\n    this.gameConfig = {\n      movementUnit: 5,\n      width: 800,\n      height: 600,\n      enemyMissileInterval: 120,\n      shipMissileInterval: 20,\n      missileLength: 20,\n      defaultShipLocation: { x: 100, y: 400 },\n      defaultSpaceLocation: { x: -1000, y: -1000 }\n    };\n    this.gameState = {\n      spaceLocation: { x: -500, y: -500 },\n      missiles: [], // All missiles in game\n      frameRequest: 0,\n      isRunning: false,\n      enemyMissileTimer: 60,\n      shipMissileTimer: 60,\n      keys: [] // Keys they are currently pressed\n    };\n  }\n  areEnemiesLoaded() {\n    return this.gameObjects.enemies[0].data.complete;\n  }\n\n  resetGame() {\n    const { enemies, ship } = this.gameObjects;\n    ship.x = this.gameConfig.defaultShipLocation.x;\n    ship.y = this.gameConfig.defaultShipLocation.y;\n\n    this.gameState.spaceLocation.x = this.gameConfig.defaultSpaceLocation.x;\n    this.gameState.spaceLocation.y = this.gameConfig.defaultSpaceLocation.y;\n    enemies.map(enemy => {\n      enemy.hidden = false;\n    });\n    document.getElementById(\"winScreen\").style.visibility = \"hidden\";\n    this.gameState.missiles = [];\n    ship.hidden = false;\n    document.getElementById(\"loseScreen\").style.visibility = \"hidden\";\n    document.getElementById(\"newGameScreen\").style.visibility = \"visible\";\n  }\n\n  resetSizes() {\n    const { ship, enemies } = this.gameObjects;\n\n    if (ship.width === 0) {\n      ship.width = ship.data.width / 2;\n    }\n    if (ship.height === 0) {\n      ship.height = ship.data.height / 2;\n    }\n\n    if (enemies[0].width === 0) {\n      enemies[0].width = enemies[0].data.width / 4;\n    }\n    if (enemies[0].height === 0) {\n      enemies[0].height = enemies[0].data.height / 4;\n    }\n  }\n\n  isGameLoaded() {\n    if (this.gameObjects === {}) {\n      console.error(\"Empty gameObject in gameLoop\");\n      this.gameState.frameRequest = window.requestAnimationFrame(run);\n      return false;\n    }\n    if (\n      this.gameObjects.space.complete &&\n      this.gameObjects.ship.data.complete &&\n      this.areEnemiesLoaded()\n    ) {\n      this.resetSizes();\n      document.getElementById(\"loadingScreen\").style.visibility = \"hidden\";\n      this.gameState.loaded = true;\n      // this.gameState.isRunning = true\n      return true;\n    }\n    return false;\n  }\n\n  addMissile(missileX, missileY, source) {\n    const {\n      shipMissileTimer,\n      enemyMissileTimer,\n      missiles,\n      isRunning\n    } = this.gameState;\n    const {\n      missileLength,\n      shipMissileInterval,\n      enemyMissileInterval\n    } = this.gameConfig;\n    if (!isRunning) {\n      return;\n    }\n    if (source === \"ship\" && shipMissileTimer >= 0) {\n      return;\n    }\n    if (source === \"enemy\" && enemyMissileTimer >= 0) {\n      return;\n    }\n    this.gameState.missiles.push(\n      new Missile(missileX, missileY, missileLength, source)\n    );\n    this.gameState.shipMissileTimer = shipMissileInterval;\n    this.gameState.enemyMissileTimer = enemyMissileInterval;\n  }\n\n  removeMissile(missileY) {\n    this.gameState.missiles = this.gameState.missiles.filter(\n      missile => missile.y !== missileY\n    );\n  }\n\n  moveMissileUp(missile) {\n    if (missile.y <= 0) {\n      this.removeMissile(missile.y);\n    }\n    missile.y -= 5;\n  }\n\n  moveMissileDown(missile) {\n    if (missile.y >= this.gameConfig.height) {\n      this.removeMissile(missile.y);\n    }\n    missile.y += 5;\n  }\n\n  moveMissile(missile) {\n    if (missile.source === \"ship\") {\n      this.moveMissileUp(missile);\n    }\n    if (missile.source === \"enemy\") {\n      this.moveMissileDown(missile);\n    }\n  }\n\n  // [{ x: number, y: number }]\n\n  drawMissile(missile) {\n    const { ctx } = this.gameState;\n    if (missile.source === \"ship\") {\n      ctx.strokeStyle = \"red\";\n    }\n    if (missile.source === \"enemy\") {\n      ctx.strokeStyle = \"blue\";\n    }\n\n    ctx.beginPath();\n    ctx.moveTo(missile.x, missile.y); // Move the pen to (30, 50)\n    ctx.lineTo(missile.x, missile.y - missile.height); // Draw a line to (150, 100)\n    ctx.lineWidth = 2;\n    ctx.stroke();\n  }\n\n  moveUp() {\n    if (\n      this.gameObjects.ship.y - this.gameConfig.movementUnit <\n      this.gameConfig.height - this.gameConfig.height / 2\n    ) {\n      return;\n    }\n    this.gameObjects.ship.y =\n      this.gameObjects.ship.y - this.gameConfig.movementUnit;\n    this.gameState.spaceLocation.y =\n      this.gameState.spaceLocation.y - this.gameConfig.movementUnit / 2;\n  }\n\n  moveDown() {\n    if (\n      this.gameObjects.ship.y +\n        this.gameObjects.ship.height +\n        this.gameConfig.movementUnit >\n      this.gameConfig.height\n    ) {\n      return;\n    }\n    this.gameObjects.ship.y =\n      this.gameObjects.ship.y + this.gameConfig.movementUnit;\n    this.gameState.spaceLocation.y =\n      this.gameState.spaceLocation.y + this.gameConfig.movementUnit / 2;\n  }\n\n  moveLeft() {\n    if (this.gameObjects.ship.x - this.gameConfig.movementUnit < 0) {\n      return;\n    }\n    this.gameObjects.ship.x =\n      this.gameObjects.ship.x - this.gameConfig.movementUnit;\n    this.gameState.spaceLocation.x =\n      this.gameState.spaceLocation.x - this.gameConfig.movementUnit / 2;\n  }\n\n  moveRight() {\n    if (\n      this.gameObjects.ship.x +\n        this.gameObjects.ship.width +\n        this.gameConfig.movementUnit >\n      this.gameConfig.width\n    ) {\n      return;\n    }\n    this.gameObjects.ship.x =\n      this.gameObjects.ship.x + this.gameConfig.movementUnit;\n    this.gameState.spaceLocation.x =\n      this.gameState.spaceLocation.x + this.gameConfig.movementUnit / 2;\n  }\n\n  keysPressed(e) {\n    switch (e.code) {\n      case \"ArrowUp\":\n      case \"ArrowDown\":\n      case \"ArrowLeft\":\n      case \"ArrowRight\":\n      case \"Space\":\n      case \"Escape\":\n      case \"Enter\":\n        e.preventDefault();\n        break;\n    }\n    this.gameState.keys[e.code] = true;\n  }\n\n  keysReleased(e) {\n    this.gameState.keys[e.code] = false;\n  }\n\n  handleKeys() {\n    const { ship } = this.gameObjects;\n    const { keys, isRunning } = this.gameState;\n\n    if (keys.ArrowRight) {\n      if (!isRunning) {\n        return;\n      }\n      this.moveRight();\n    }\n    if (keys.ArrowLeft) {\n      if (!isRunning) {\n        return;\n      }\n      this.moveLeft();\n    }\n    if (keys.ArrowUp) {\n      if (!isRunning) {\n        return;\n      }\n      this.moveUp();\n    }\n    if (keys.ArrowDown) {\n      if (!isRunning) {\n        return;\n      }\n      this.moveDown();\n    }\n\n    if (keys.Space) {\n      if (!isRunning) {\n        return;\n      }\n      this.addMissile(ship.x + ship.width / 2, ship.y, \"ship\");\n    }\n\n    if (keys.Escape) {\n      keys.Escape = false;\n      this.resetGame();\n    }\n\n    if (keys.Enter || keys.NumpadEnter) {\n      keys.Enter = false;\n      keys.NumpadEnter = false;\n      if (this.isGameLoaded()) {\n        document.getElementById(\"newGameScreen\").style.visibility = \"hidden\";\n        this.gameState.isRunning = true;\n      }\n    }\n  }\n\n  drawSpace() {\n    const { ctx } = this.gameState;\n    ctx.clearRect(0, 0, this.gameConfig.width, this.gameConfig.height);\n    ctx.drawImage(\n      this.gameObjects.space,\n      this.gameState.spaceLocation.x,\n      this.gameState.spaceLocation.y,\n      this.gameObjects.space.width / 2,\n      this.gameObjects.space.height / 2\n    );\n  }\n\n  drawEnemy(enemy) {\n    if (enemy.hidden) {\n      return;\n    }\n    const { ctx } = this.gameState;\n    ctx.drawImage(enemy.data, enemy.x, enemy.y, enemy.width, enemy.height);\n  }\n\n  drawShip() {\n    const { ctx } = this.gameState;\n    const { ship } = this.gameObjects;\n    ctx.drawImage(ship.data, ship.x, ship.y, ship.width, ship.height);\n  }\n\n  isBetween(number, first, second) {\n    return number >= first && number <= second;\n  }\n\n  checkHitEnemy(enemy, missile) {\n    if (\n      missile.y - missile.height <= enemy.y &&\n      this.isBetween(missile.x, enemy.x, enemy.x + enemy.width)\n    ) {\n      enemy.hidden = true;\n    }\n  }\n\n  checkHitShip(missile) {\n    const { ship } = this.gameObjects;\n    if (\n      missile.y - missile.height >= ship.y &&\n      this.isBetween(missile.x, ship.x, ship.x + ship.width)\n    ) {\n      ship.hidden = true;\n    }\n  }\n\n  checkHit() {\n    const { ship, enemies } = this.gameObjects;\n    enemies.map(enemy => {\n      this.gameState.missiles.map(missile => {\n        if (missile.source === \"ship\") {\n          this.checkHitEnemy(enemy, missile);\n        }\n        if (missile.source === \"enemy\") {\n          this.checkHitShip(missile);\n        }\n      });\n    });\n\n    const remainingEnemies = enemies.filter(enemy => !enemy.hidden);\n\n    if (remainingEnemies.length === 0) {\n      this.gameState.isRunning = false;\n      document.getElementById(\"winScreen\").style.visibility = \"visible\";\n    }\n\n    if (ship.hidden === true) {\n      this.gameState.isRunning = false;\n      document.getElementById(\"loseScreen\").style.visibility = \"visible\";\n    }\n  }\n\n  updateDebug() {\n    document.getElementById(\n      \"debugMovementUnit\"\n    ).value = this.gameConfig.movementUnit;\n  }\n\n  run() {\n    if (!this.isGameLoaded()) {\n      this.gameState.frameRequest = window.requestAnimationFrame(\n        this.run.bind(this)\n      );\n      return;\n    }\n\n    this.updateDebug();\n\n    this.handleKeys();\n    this.drawSpace();\n    this.drawShip();\n    this.drawEnemy(this.gameObjects.enemies[0]);\n\n    // Add enemy missiles\n    if (this.gameState.isRunning) {\n      this.gameObjects.enemies.forEach(enemy => {\n        this.addMissile(\n          enemy.x + enemy.width / 2,\n          enemy.y + enemy.height + this.gameConfig.missileLength,\n          \"enemy\"\n        );\n      });\n    }\n\n    this.gameState.missiles.forEach(missile => {\n      this.moveMissile(missile);\n    });\n\n    this.checkHit();\n\n    this.gameState.missiles.forEach(missile => {\n      this.drawMissile(missile);\n    });\n    this.gameState.enemyMissileTimer--;\n    this.gameState.shipMissileTimer--;\n    this.gameState.frameRequest = window.requestAnimationFrame(\n      this.run.bind(this)\n    );\n  }\n\n  init() {\n    const game = this;\n    window.addEventListener(\"keydown\", this.keysPressed.bind(this), false);\n    window.addEventListener(\"keyup\", this.keysReleased.bind(this), false);\n\n    const ship = document.images[0];\n    const space = document.images[2];\n    const enemy1 = document.images[3];\n\n    const body = document.getElementById(this.containerId);\n    const canvas = document.createElement(\"canvas\");\n    canvas.setAttribute(\"id\", \"gameCanvas\");\n    canvas.setAttribute(\"width\", 800);\n    canvas.setAttribute(\"height\", 600);\n    body.appendChild(canvas);\n\n    this.gameState.ctx = canvas.getContext(\"2d\");\n\n    game.gameObjects.ship = new GameObject(\n      \"ship\",\n      ship,\n      game.gameConfig.defaultShipLocation.x,\n      game.gameConfig.defaultShipLocation.y,\n      \"false\",\n      ship.width / 2,\n      ship.height / 2\n    );\n\n    game.gameObjects.enemies.push(\n      new GameObject(\n        \"enemy1\",\n        enemy1,\n        100,\n        50,\n        false,\n        enemy1.width / 4,\n        enemy1.height / 4\n      )\n    );\n\n    this.gameObjects.space = space;\n\n    this.gameState.frameRequest = window.requestAnimationFrame(\n      game.run.bind(this)\n    );\n  }\n}\n\nmodule.exports = { GameObject, Missile, Game };\n"],"sourceRoot":""}